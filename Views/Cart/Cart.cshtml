@{
    ViewBag.Title = "Cart";
    Layout = "_galleryLayout";
}

<h2>Cart</h2>

@using NETCORE_CA_8A.Models;
<div class="container">
    <div class="row col-md-6 col-md-offset-2 custyle">
        <table class="table table-striped custab">
            <thead>
                <tr>
                    <th></th>
                    <th>Name</th>
                    <th>Desc</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            @{
                double cost = 0;
                foreach (CartItem cartItem in @ViewBag.CartItems)
                {
                    var subSum = @cartItem.Quantity * @cartItem.Product.unitPrice;
                    <tr>
                        <td><img src=@cartItem.Product.Image class="card-img-top"></td>
                        <td>@cartItem.Product.productName</td>
                        <td>@cartItem.Product.description\</td>
                        <td>@cartItem.Quantity</td>
                        <td>@subSum</td>
                        <td><a href=@("" + @cartItem.Product.Id)><span class="glyphicon glyphicon-plus"></span></a></td>

                        <td><a href=@("" + @cartItem.Product.Id)><span class="glyphicon glyphicon-minus"></span></a></td>
                    </tr>
                    cost += @cartItem.Quantity * @cartItem.Product.unitPrice;
                }
                <!--<a href="/galleryRoute"><button class="btn btn-default">Continue Shopping</button></a>-->
                var str = "/Gallery/Gallery";
                <form action=@str>
                    <input  type="hidden" name="itemCount" value="@ViewBag.ItemCount"/>
                    <input class="button-primary" type="submit" value="Continue Shopping Cart VIew">
                </form>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><strong>@("Total $" + @cost)</strong></td>
                    <td>
                        @if (cost != 0)
                        {
                            <!-- <a href="/Cart/CheckoutCart"><button class="btn btn-primary">Checkout</button></a> -->

                            <a class="nav-link text-dark" asp-area="" asp-controller="Cart" asp-action="CheckoutCart"><b>Checkout</b></a>
                        }
                    </td>
                    }
            </table>
    </div>
</div>